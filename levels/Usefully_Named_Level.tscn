[gd_scene load_steps=32 format=2]

[ext_resource path="res://audio/XSFXLanding.wav" type="AudioStream" id=1]
[ext_resource path="res://audio/XSFXJump.wav" type="AudioStream" id=2]
[ext_resource path="res://audio/XSFXWallJump.wav" type="AudioStream" id=3]
[ext_resource path="res://packed scenes/trail piece.tscn" type="PackedScene" id=4]
[ext_resource path="res://sprites/[snail_sprites].png" type="Texture" id=5]
[ext_resource path="res://sprites/platform.png" type="Texture" id=6]
[ext_resource path="res://scripts/player.gd" type="Script" id=7]
[ext_resource path="res://scripts/chaser.gd" type="Script" id=8]
[ext_resource path="res://objects/tilemap.tres" type="TileSet" id=9]
[ext_resource path="res://sprites/[Lettuce Sprites].png" type="Texture" id=10]
[ext_resource path="res://audio/XSFXDeath.wav" type="AudioStream" id=11]
[ext_resource path="res://packed scenes/place tiled objects.tscn" type="PackedScene" id=12]
[ext_resource path="res://sprites/Snail Goo.png" type="Texture" id=13]
[ext_resource path="res://packed scenes/background.tscn" type="PackedScene" id=14]
[ext_resource path="res://packed scenes/timer.tscn" type="PackedScene" id=15]
[ext_resource path="res://scripts/camera.gd" type="Script" id=16]

[sub_resource type="CapsuleShape2D" id=1]
radius = 5.0
height = 2.0

[sub_resource type="Animation" id=2]
length = 0.0833333
loop = true
step = 0.0833333
tracks/0/type = "value"
tracks/0/path = NodePath("sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ 13 ]
}

[sub_resource type="Animation" id=3]
length = 0.166667
step = 0.0833333
tracks/0/type = "value"
tracks/0/path = NodePath("sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.0833333 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ 19, 20 ]
}

[sub_resource type="Animation" id=4]
length = 0.333333
step = 0.0833333
tracks/0/type = "value"
tracks/0/path = NodePath("sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.0833333, 0.166667, 0.25 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 1,
"values": [ 0, 1, 2, 3 ]
}

[sub_resource type="Animation" id=5]
length = 0.0833333
step = 0.0833333
tracks/0/type = "value"
tracks/0/path = NodePath("sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ 2 ]
}

[sub_resource type="Animation" id=6]
length = 0.666666
loop = true
step = 0.0833333
tracks/0/type = "value"
tracks/0/path = NodePath("sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.0833333, 0.166667, 0.25, 0.333333, 0.416667, 0.5, 0.583333 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ 3, 4, 5, 6, 7, 8, 9, 10 ]
}

[sub_resource type="Animation" id=7]
length = 0.166667
step = 0.0833333
tracks/0/type = "value"
tracks/0/path = NodePath("sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.0833333 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ 11, 12 ]
}

[sub_resource type="Animation" id=8]
length = 0.333333
step = 0.0833333
tracks/0/type = "value"
tracks/0/path = NodePath("sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.0833333, 0.166667, 0.25 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 1,
"values": [ 14, 16, 17, 18 ]
}

[sub_resource type="Animation" id=9]
length = 0.0833333
loop = true
step = 0.0833333
tracks/0/type = "value"
tracks/0/path = NodePath("sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ 21 ]
}

[sub_resource type="QuadMesh" id=10]
size = Vector2( 5000, 5000 )

[sub_resource type="CapsuleShape2D" id=11]
radius = 6.0
height = 4.0

[sub_resource type="Curve" id=12]
_data = [ Vector2( 1, 1 ), 0.0, 0.0, 0, 0 ]

[sub_resource type="Curve" id=13]
_data = [ Vector2( 0, 1 ), 0.0, 0.0, 0, 0, Vector2( 0.993356, 1 ), 0.0, 0.0, 0, 0 ]

[sub_resource type="Curve" id=14]
_data = [ Vector2( 0.494662, 0.990909 ), 0.0, 0.0, 0, 0, Vector2( 1, 0 ), 0.0, 0.0, 0, 0 ]

[sub_resource type="Gradient" id=15]
offsets = PoolRealArray( 0.0851852, 1 )
colors = PoolColorArray( 0.341176, 0.396078, 0.207843, 1, 0.662745, 0.647059, 0.580392, 1 )

[node name="Node2D" type="Node2D"]

[node name="map grid" type="TileMap" parent="."]
position = Vector2( 0, -1 )
z_index = -5
tile_set = ExtResource( 9 )
cell_size = Vector2( 16, 16 )
format = 1
tile_data = PoolIntArray( -393241, 1, 10, -393240, 1, 196609, -393239, 1, 196609, -393238, 1, 196609, -393237, 1, 196609, -393236, 1, 9, -393235, 1, 196609, -393234, 1, 196609, -393233, 1, 196609, -393232, 1, 196609, -393231, 1, 196609, -393230, 1, 196609, -393229, 1, 196609, -393228, 1, 196609, -393227, 1, 196609, -393226, 1, 196609, -393225, 1, 196609, -393224, 1, 9, -393223, 1, 196609, -393222, 1, 196609, -393221, 1, 196609, -393220, 1, 196609, -393219, 1, 196609, -393218, 1, 196609, -393217, 1, 196609, -458752, 1, 196609, -458751, 1, 11, -327705, 1, 65539, -327700, 1, 65539, -327689, 6, 0, -327688, 1, 65539, -393215, 1, 65539, -262169, 1, 65539, -262168, 7, 0, -262164, 1, 65539, -262161, 1, 196608, -262160, 1, 196609, -262159, 1, 196609, -262158, 1, 196609, -262157, 1, 196609, -262156, 1, 196609, -262155, 1, 196609, -262154, 1, 196609, -262153, 1, 196609, -262152, 1, 65545, -262151, 6, 0, -327679, 1, 65539, -196633, 1, 8, -196632, 1, 196610, -196628, 1, 65539, -196616, 1, 65546, -196615, 1, 11, -262143, 1, 65539, -131097, 1, 65539, -131092, 1, 65539, -131079, 1, 65539, -196607, 1, 65539, -65561, 1, 65539, -65556, 1, 65539, -65543, 1, 65539, -131071, 1, 65539, -25, 1, 65539, -20, 1, 65539, -18, 1, 196608, -17, 1, 196610, -7, 1, 65539, -65535, 1, 65539, 65511, 1, 65539, 65516, 1, 65539, 65529, 1, 131075, 1, 1, 65539, 131047, 1, 65539, 131052, 1, 65539, 131057, 1, 0, 131058, 1, 2, 65537, 1, 65539, 196583, 1, 65539, 196588, 1, 65539, 196593, 1, 65536, 196594, 1, 65538, 131073, 1, 65539, 262119, 1, 65539, 262124, 1, 131075, 262129, 1, 65536, 262130, 1, 65538, 262143, 1, 0, 196608, 1, 1, 196609, 1, 65543, 327655, 1, 65539, 327665, 1, 65536, 327666, 1, 65542, 327667, 1, 1, 327668, 1, 2, 327673, 5, 0, 327679, 1, 65536, 262144, 1, 65537, 262145, 1, 65538, 393191, 1, 65539, 393196, 5, 0, 393200, 1, 0, 393201, 1, 65541, 393202, 1, 65537, 393203, 1, 65537, 393204, 1, 65538, 393209, 1, 3, 393215, 1, 65536, 327680, 1, 65537, 327681, 1, 65538, 458727, 1, 65546, 458728, 1, 196609, 458729, 1, 196609, 458730, 1, 196609, 458731, 1, 196609, 458732, 1, 196609, 458733, 1, 196609, 458734, 1, 196609, 458735, 1, 196609, 458736, 1, 196613, 458737, 1, 131073, 458738, 1, 131073, 458739, 1, 131073, 458740, 1, 196614, 458741, 1, 196609, 458742, 1, 196609, 458743, 1, 196609, 458744, 1, 196609, 458745, 1, 65544, 458746, 1, 196609, 458747, 1, 196609, 458748, 1, 196609, 458749, 1, 196609, 458750, 1, 196609, 458751, 1, 196613, 393216, 1, 131073, 393217, 1, 131074 )

[node name="place tiled objects" parent="." instance=ExtResource( 12 )]

[node name="camera" type="Camera2D" parent="."]
current = true
script = ExtResource( 16 )
lerp_mod = Vector2( 2, 3 )
max_dist = Vector2( 100, 40 )

[node name="player" type="KinematicBody2D" parent="." groups=[
"player",
]]
collision/safe_margin = 0.05
script = ExtResource( 7 )
move_force = Vector2( 30, 500 )
air_control_ratio = 0.35
wall_jump_force = Vector2( 300, 400 )
gravity = 250.0
acc_grav = 5.0
friction = 8.0
air_friction = 2.0
wall_friction = 7.0
wall_hold_time = 0.3
jump_hold_time = 200.0
coyote_time = 250.0
start_delay = 0.0
jump_sound = ExtResource( 2 )
wall_jump_sound = ExtResource( 3 )

[node name="col" type="CollisionShape2D" parent="player" groups=[
"player",
]]
shape = SubResource( 1 )

[node name="sprite" type="Sprite" parent="player"]
texture = ExtResource( 10 )
vframes = 5
hframes = 5
frame = 18

[node name="anim" type="AnimationPlayer" parent="player"]
autoplay = "idle"
anims/idle = SubResource( 2 )
"anims/into wall slide" = SubResource( 3 )
anims/jump = SubResource( 4 )
anims/land = SubResource( 5 )
anims/run = SubResource( 6 )
"anims/run start" = SubResource( 7 )
"anims/wall jump" = SubResource( 8 )
"anims/wall slide" = SubResource( 9 )

[node name="sfx" type="AudioStreamPlayer2D" parent="player"]

[node name="landing_sfx" type="AudioStreamPlayer2D" parent="player"]
stream = ExtResource( 1 )

[node name="start_filter" type="MeshInstance2D" parent="player"]
modulate = Color( 0, 0, 0, 0.294118 )
mesh = SubResource( 10 )

[node name="chaser" type="Node2D" parent="."]

[node name="area" type="Area2D" parent="chaser"]
position = Vector2( -1000, -1000 )
script = ExtResource( 8 )
follow_delay = 100
trail_segments = 120
trail_piece = ExtResource( 4 )

[node name="col" type="CollisionShape2D" parent="chaser/area"]
shape = SubResource( 11 )

[node name="sprite" type="Sprite" parent="chaser/area"]
z_index = 1
texture = ExtResource( 5 )
vframes = 5
hframes = 5

[node name="trail" type="StaticBody2D" parent="chaser"]

[node name="line" type="Line2D" parent="chaser/trail"]
width = 7.0
width_curve = SubResource( 12 )
default_color = Color( 1, 1, 1, 1 )
texture = ExtResource( 13 )
texture_mode = 2
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="preemptive line" type="Line2D" parent="chaser/trail"]
z_index = -1
width = 6.0
width_curve = SubResource( 13 )
default_color = Color( 0, 0, 0, 0.27451 )
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="death_particles" type="CPUParticles2D" parent="."]
emitting = false
amount = 20
lifetime = 0.9
one_shot = true
explosiveness = 0.98
randomness = 0.11
lifetime_randomness = 0.27
texture = ExtResource( 6 )
direction = Vector2( 0, 0 )
spread = 180.0
gravity = Vector2( 0, 0 )
initial_velocity = 138.16
initial_velocity_random = 0.33
angular_velocity = 473.68
angular_velocity_random = 0.51
orbit_velocity = 0.2
orbit_velocity_random = 1.0
radial_accel = 3.48
radial_accel_random = 1.0
damping = 87.5
damping_random = 0.19
angle = 720.0
angle_random = 1.0
scale_amount_curve = SubResource( 14 )
color_ramp = SubResource( 15 )

[node name="death_sound" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource( 11 )

[node name="background parent" parent="." instance=ExtResource( 14 )]

[node name="timer parent" parent="." instance=ExtResource( 15 )]
