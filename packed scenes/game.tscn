[gd_scene load_steps=30 format=2]

[ext_resource path="res://sprites/platform.png" type="Texture" id=1]
[ext_resource path="res://sprites/[snail_sprites].png" type="Texture" id=2]
[ext_resource path="res://scripts/player.gd" type="Script" id=3]
[ext_resource path="res://sprites/[Lettuce Sprites].png" type="Texture" id=4]
[ext_resource path="res://audio/XSFXDeath.wav" type="AudioStream" id=5]
[ext_resource path="res://objects/tilemap.tres" type="TileSet" id=6]
[ext_resource path="res://scripts/chaser.gd" type="Script" id=7]
[ext_resource path="res://packed scenes/trail piece.tscn" type="PackedScene" id=8]
[ext_resource path="res://sprites/Snail Goo.png" type="Texture" id=9]
[ext_resource path="res://audio/XSFXLanding.wav" type="AudioStream" id=10]
[ext_resource path="res://audio/XSFXWallJump.wav" type="AudioStream" id=11]
[ext_resource path="res://audio/XSFXJump.wav" type="AudioStream" id=12]
[ext_resource path="res://packed scenes/place tiled objects.tscn" type="PackedScene" id=13]
[ext_resource path="res://scripts/camera.gd" type="Script" id=17]

[sub_resource type="CapsuleShape2D" id=1]
radius = 5.0
height = 2.0

[sub_resource type="Animation" id=2]
length = 0.0833333
loop = true
step = 0.0833333
tracks/0/type = "value"
tracks/0/path = NodePath("sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ 13 ]
}

[sub_resource type="Animation" id=3]
length = 0.166667
step = 0.0833333
tracks/0/type = "value"
tracks/0/path = NodePath("sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.0833333 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ 19, 20 ]
}

[sub_resource type="Animation" id=4]
length = 0.333333
step = 0.0833333
tracks/0/type = "value"
tracks/0/path = NodePath("sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.0833333, 0.166667, 0.25 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 1,
"values": [ 0, 1, 2, 3 ]
}

[sub_resource type="Animation" id=5]
length = 0.0833333
step = 0.0833333
tracks/0/type = "value"
tracks/0/path = NodePath("sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ 2 ]
}

[sub_resource type="Animation" id=6]
length = 0.666666
loop = true
step = 0.0833333
tracks/0/type = "value"
tracks/0/path = NodePath("sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.0833333, 0.166667, 0.25, 0.333333, 0.416667, 0.5, 0.583333 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ 3, 4, 5, 6, 7, 8, 9, 10 ]
}

[sub_resource type="Animation" id=7]
length = 0.166667
step = 0.0833333
tracks/0/type = "value"
tracks/0/path = NodePath("sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.0833333 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ 11, 12 ]
}

[sub_resource type="Animation" id=8]
length = 0.333333
step = 0.0833333
tracks/0/type = "value"
tracks/0/path = NodePath("sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.0833333, 0.166667, 0.25 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 1,
"values": [ 14, 16, 17, 18 ]
}

[sub_resource type="Animation" id=9]
length = 0.0833333
loop = true
step = 0.0833333
tracks/0/type = "value"
tracks/0/path = NodePath("sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ 21 ]
}

[sub_resource type="QuadMesh" id=10]
size = Vector2( 5000, 5000 )

[sub_resource type="CapsuleShape2D" id=11]
radius = 6.0
height = 4.0

[sub_resource type="Curve" id=12]
_data = [ Vector2( 1, 1 ), 0.0, 0.0, 0, 0 ]

[sub_resource type="Curve" id=13]
_data = [ Vector2( 0, 1 ), 0.0, 0.0, 0, 0, Vector2( 0.993356, 1 ), 0.0, 0.0, 0, 0 ]

[sub_resource type="Curve" id=14]
_data = [ Vector2( 0.494662, 0.990909 ), 0.0, 0.0, 0, 0, Vector2( 1, 0 ), 0.0, 0.0, 0, 0 ]

[sub_resource type="Gradient" id=15]
offsets = PoolRealArray( 0.0851852, 1 )
colors = PoolColorArray( 0.341176, 0.396078, 0.207843, 1, 0.662745, 0.647059, 0.580392, 1 )

[node name="Node2D" type="Node2D"]

[node name="map grid" type="TileMap" parent="."]
z_index = -5
tile_set = ExtResource( 6 )
cell_size = Vector2( 16, 16 )
format = 1
tile_data = PoolIntArray( -589836, 1, 0, -589835, 1, 1, -589834, 1, 1, -589833, 1, 1, -589832, 1, 1, -589831, 1, 1, -589830, 1, 1, -589829, 1, 1, -589828, 1, 1, -589827, 1, 1, -589826, 1, 1, -589825, 1, 1, -655360, 1, 1, -655359, 1, 1, -655358, 1, 1, -655357, 1, 1, -655356, 1, 1, -655355, 1, 1, -655354, 1, 1, -655353, 1, 1, -655352, 1, 1, -655351, 1, 1, -655350, 1, 1, -655349, 1, 2, -524300, 1, 65536, -524299, 1, 65537, -524298, 1, 196611, -524297, 1, 131073, -524296, 1, 131073, -524295, 1, 131073, -524294, 1, 131073, -524293, 1, 131073, -524292, 1, 131073, -524291, 1, 131073, -524290, 1, 131073, -524289, 1, 131073, -589824, 1, 131073, -589823, 1, 131073, -589822, 1, 131073, -589821, 1, 131073, -589820, 1, 131073, -589819, 1, 131073, -589818, 1, 131073, -589817, 1, 131073, -589816, 1, 131073, -589815, 1, 196611, -589814, 1, 65537, -589813, 1, 65538, -458764, 1, 65536, -458763, 1, 65537, -458762, 1, 65538, -524279, 1, 65536, -524278, 1, 65537, -524277, 1, 65538, -393228, 1, 65536, -393227, 1, 65537, -393226, 1, 65538, -458743, 1, 65536, -458742, 1, 65537, -458741, 1, 65538, -327692, 1, 65536, -327691, 1, 65537, -327690, 1, 65538, -393207, 1, 65536, -393206, 1, 65537, -393205, 1, 65538, -262156, 1, 65536, -262155, 1, 65537, -262154, 1, 65538, -327672, 4, 0, -327671, 1, 65536, -327670, 1, 65537, -327669, 1, 65538, -196620, 1, 65536, -196619, 1, 65537, -196618, 1, 65538, -262135, 1, 65536, -262134, 1, 65537, -262133, 1, 65538, -131084, 1, 65536, -131083, 1, 65537, -131082, 1, 65538, -196599, 1, 65536, -196598, 1, 65537, -196597, 1, 65538, -65548, 1, 65536, -65547, 1, 65537, -65546, 1, 65538, -131063, 1, 65536, -131062, 1, 65537, -131061, 1, 65538, -12, 1, 65536, -11, 1, 65537, -10, 1, 65538, -65527, 1, 65536, -65526, 1, 65537, -65525, 1, 65538, 65524, 1, 65536, 65525, 1, 65537, 65526, 1, 65538, 9, 1, 65536, 10, 1, 65537, 11, 1, 65538, 131060, 1, 65536, 131061, 1, 65537, 131062, 1, 65538, 65545, 1, 65536, 65546, 1, 65537, 65547, 1, 65538, 196596, 1, 65536, 196597, 1, 65537, 196598, 1, 65538, 131081, 1, 65536, 131082, 1, 65537, 131083, 1, 65538, 262132, 1, 65536, 262133, 1, 65537, 262134, 1, 65538, 196617, 1, 65536, 196618, 1, 65537, 196619, 1, 65538, 327668, 1, 65536, 327669, 1, 65537, 327670, 1, 196611, 327671, 1, 1, 327672, 1, 1, 327673, 1, 1, 327674, 1, 1, 327675, 1, 1, 327676, 1, 1, 327677, 1, 1, 327678, 1, 1, 327679, 1, 1, 262144, 1, 1, 262145, 1, 1, 262146, 1, 1, 262147, 1, 1, 262148, 1, 1, 262149, 1, 1, 262150, 1, 2, 262151, 2, 0, 262152, 2, 0, 262153, 1, 65536, 262154, 1, 65537, 262155, 1, 65538, 393204, 1, 65536, 393205, 1, 65537, 393206, 1, 65537, 393207, 1, 65537, 393208, 1, 65537, 393209, 1, 65537, 393210, 1, 65537, 393211, 1, 65537, 393212, 1, 65537, 393213, 1, 65537, 393214, 1, 65537, 393215, 1, 65537, 327680, 1, 65537, 327681, 1, 65537, 327682, 1, 65537, 327683, 1, 65537, 327684, 1, 65537, 327685, 1, 65537, 327686, 1, 196611, 327687, 1, 1, 327688, 1, 1, 327689, 1, 196611, 327690, 1, 65537, 327691, 1, 65538, 458740, 1, 131072, 458741, 1, 131073, 458742, 1, 131073, 458743, 1, 131073, 458744, 1, 131073, 458745, 1, 131073, 458746, 1, 131073, 458747, 1, 131073, 458748, 1, 131073, 458749, 1, 131073, 458750, 1, 131073, 458751, 1, 131073, 393216, 1, 131073, 393217, 1, 131073, 393218, 1, 131073, 393219, 1, 131073, 393220, 1, 131073, 393221, 1, 131073, 393222, 1, 131073, 393223, 1, 131073, 393224, 1, 131073, 393225, 1, 131073, 393226, 1, 131073, 393227, 1, 131074 )

[node name="place objects from tiles" parent="." instance=ExtResource( 13 )]

[node name="camera" type="Camera2D" parent="."]
current = true
script = ExtResource( 17 )
lerp_mod = Vector2( 2, 3 )
max_dist = Vector2( 100, 40 )

[node name="player" type="KinematicBody2D" parent="." groups=[
"player",
]]
collision/safe_margin = 0.05
script = ExtResource( 3 )
move_force = Vector2( 30, 500 )
air_control_ratio = 0.35
wall_jump_force = Vector2( 300, 400 )
gravity = 250.0
acc_grav = 5.0
friction = 8.0
air_friction = 2.0
wall_friction = 7.0
wall_hold_time = 0.3
jump_hold_time = 200.0
coyote_time = 250.0
start_delay = 0.0
jump_sound = ExtResource( 12 )
wall_jump_sound = ExtResource( 11 )

[node name="col" type="CollisionShape2D" parent="player" groups=[
"player",
]]
shape = SubResource( 1 )

[node name="sprite" type="Sprite" parent="player"]
texture = ExtResource( 4 )
vframes = 5
hframes = 5
frame = 18

[node name="anim" type="AnimationPlayer" parent="player"]
autoplay = "idle"
anims/idle = SubResource( 2 )
"anims/into wall slide" = SubResource( 3 )
anims/jump = SubResource( 4 )
anims/land = SubResource( 5 )
anims/run = SubResource( 6 )
"anims/run start" = SubResource( 7 )
"anims/wall jump" = SubResource( 8 )
"anims/wall slide" = SubResource( 9 )

[node name="sfx" type="AudioStreamPlayer2D" parent="player"]

[node name="landing_sfx" type="AudioStreamPlayer2D" parent="player"]
stream = ExtResource( 10 )

[node name="start_filter" type="MeshInstance2D" parent="player"]
modulate = Color( 0, 0, 0, 0.294118 )
mesh = SubResource( 10 )

[node name="chaser" type="Node2D" parent="."]

[node name="area" type="Area2D" parent="chaser"]
position = Vector2( -1000, -1000 )
script = ExtResource( 7 )
follow_delay = 100
trail_segments = 120
trail_piece = ExtResource( 8 )

[node name="col" type="CollisionShape2D" parent="chaser/area"]
shape = SubResource( 11 )

[node name="sprite" type="Sprite" parent="chaser/area"]
z_index = 1
texture = ExtResource( 2 )
vframes = 5
hframes = 5

[node name="trail" type="StaticBody2D" parent="chaser"]

[node name="line" type="Line2D" parent="chaser/trail"]
width = 7.0
width_curve = SubResource( 12 )
default_color = Color( 1, 1, 1, 1 )
texture = ExtResource( 9 )
texture_mode = 2
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="preemptive line" type="Line2D" parent="chaser/trail"]
z_index = -1
width = 6.0
width_curve = SubResource( 13 )
default_color = Color( 0, 0, 0, 0.27451 )
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="death_particles" type="CPUParticles2D" parent="."]
emitting = false
amount = 20
lifetime = 0.9
one_shot = true
explosiveness = 0.98
randomness = 0.11
lifetime_randomness = 0.27
texture = ExtResource( 1 )
direction = Vector2( 0, 0 )
spread = 180.0
gravity = Vector2( 0, 0 )
initial_velocity = 138.16
initial_velocity_random = 0.33
angular_velocity = 473.68
angular_velocity_random = 0.51
orbit_velocity = 0.2
orbit_velocity_random = 1.0
radial_accel = 3.48
radial_accel_random = 1.0
damping = 87.5
damping_random = 0.19
angle = 720.0
angle_random = 1.0
scale_amount_curve = SubResource( 14 )
color_ramp = SubResource( 15 )

[node name="death_sound" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource( 5 )
