[gd_scene load_steps=43 format=2]

[ext_resource path="res://sprites/platform.png" type="Texture" id=1]
[ext_resource path="res://sprites/[snail_sprites].png" type="Texture" id=2]
[ext_resource path="res://scripts/player.gd" type="Script" id=3]
[ext_resource path="res://sprites/[Lettuce Sprites].png" type="Texture" id=4]
[ext_resource path="res://scripts/chaser.gd" type="Script" id=7]
[ext_resource path="res://packed scenes/trail piece.tscn" type="PackedScene" id=8]
[ext_resource path="res://sprites/Tilesetgrass.png" type="Texture" id=9]
[ext_resource path="res://audio/XSFXLanding.wav" type="AudioStream" id=10]
[ext_resource path="res://audio/XSFXWallJump.wav" type="AudioStream" id=11]
[ext_resource path="res://audio/XSFXJump.wav" type="AudioStream" id=12]

[sub_resource type="ConvexPolygonShape2D" id=10]
points = PoolVector2Array( 8, 8, 0, 8, 0, 0, 8, 0 )

[sub_resource type="ConvexPolygonShape2D" id=11]
points = PoolVector2Array( 1.05989, 1.05988, 16, 0.826225, 16, 16, 0.981998, 16 )

[sub_resource type="ConvexPolygonShape2D" id=12]
points = PoolVector2Array( 0, 0.981995, 16, 1.05988, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=13]
points = PoolVector2Array( 0, 0.981995, 14.935, 1.05988, 15.0908, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=14]
points = PoolVector2Array( 0.960094, 1.13777, 14.9018, 0.981995, 14.8239, 16, 0.960094, 16 )

[sub_resource type="ConvexPolygonShape2D" id=15]
points = PoolVector2Array( 1.03392, 0, 16, 0, 16, 16, 0.979837, 16 )

[sub_resource type="ConvexPolygonShape2D" id=16]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=17]
points = PoolVector2Array( 0, 0, 14.9545, 0, 15.0627, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=18]
points = PoolVector2Array( 0.955772, 0.0162582, 14.9645, 0, 15.0186, 16, 0.960094, 16 )

[sub_resource type="ConvexPolygonShape2D" id=19]
points = PoolVector2Array( 0.925749, 0, 16, 0, 16, 15.0221, 0.925749, 15.0221 )

[sub_resource type="ConvexPolygonShape2D" id=20]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=21]
points = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="ConvexPolygonShape2D" id=22]
points = PoolVector2Array( 0.955772, 0, 15.0727, 0, 15.0727, 15.0627, 1.00986, 15.1168 )

[sub_resource type="ConvexPolygonShape2D" id=23]
points = PoolVector2Array( 1.08801, 1.06551, 16, 1.01141, 16, 14.9661, 1.03392, 14.9661 )

[sub_resource type="ConvexPolygonShape2D" id=24]
points = PoolVector2Array( 0, 1.06551, 16, 0.957329, 16, 15.0202, 0, 14.912 )

[sub_resource type="ConvexPolygonShape2D" id=25]
points = PoolVector2Array( 0, 1.01141, 14.9545, 1.06551, 15.0086, 15.0202, 0, 15.0202 )

[sub_resource type="ConvexPolygonShape2D" id=26]
points = PoolVector2Array( 0.901688, 1.01141, 15.0727, 1.01141, 15.0727, 15.0202, 1.00986, 14.9661 )

[sub_resource type="TileSet" id=27]
0/name = "platform.png 0"
0/texture = ExtResource( 1 )
0/tex_offset = Vector2( 0, 0 )
0/modulate = Color( 1, 1, 1, 1 )
0/region = Rect2( 0, 0, 8, 8 )
0/tile_mode = 0
0/occluder_offset = Vector2( 0, 0 )
0/navigation_offset = Vector2( 0, 0 )
0/shape_offset = Vector2( 0, 0 )
0/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
0/shape = SubResource( 10 )
0/shape_one_way = false
0/shape_one_way_margin = 1.0
0/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 10 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
0/z_index = 0
1/name = "Tilesetgrass.png 1"
1/texture = ExtResource( 9 )
1/tex_offset = Vector2( 0, 0 )
1/modulate = Color( 1, 1, 1, 1 )
1/region = Rect2( 0, 0, 64, 64 )
1/tile_mode = 1
1/autotile/bitmask_mode = 1
1/autotile/bitmask_flags = [ Vector2( 0, 0 ), 432, Vector2( 0, 1 ), 438, Vector2( 0, 2 ), 54, Vector2( 0, 3 ), 48, Vector2( 1, 0 ), 504, Vector2( 1, 1 ), 511, Vector2( 1, 2 ), 63, Vector2( 1, 3 ), 56, Vector2( 2, 0 ), 216, Vector2( 2, 1 ), 219, Vector2( 2, 2 ), 27, Vector2( 2, 3 ), 24, Vector2( 3, 0 ), 144, Vector2( 3, 1 ), 146, Vector2( 3, 2 ), 18, Vector2( 3, 3 ), 16 ]
1/autotile/icon_coordinate = Vector2( 3, 3 )
1/autotile/tile_size = Vector2( 16, 16 )
1/autotile/spacing = 0
1/autotile/occluder_map = [  ]
1/autotile/navpoly_map = [  ]
1/autotile/priority_map = [  ]
1/autotile/z_index_map = [  ]
1/occluder_offset = Vector2( 0, 0 )
1/navigation_offset = Vector2( 0, 0 )
1/shape_offset = Vector2( 0, 0 )
1/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
1/shape = SubResource( 11 )
1/shape_one_way = false
1/shape_one_way_margin = 1.0
1/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 11 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 1, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 12 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 2, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 13 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 3, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 14 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 0, 1 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 15 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 1, 1 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 16 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 2, 1 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 17 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 3, 1 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 18 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 0, 2 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 19 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 1, 2 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 20 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 2, 2 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 21 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 3, 2 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 22 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 0, 3 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 23 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 1, 3 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 24 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 2, 3 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 25 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 3, 3 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 26 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
1/z_index = 0

[sub_resource type="CapsuleShape2D" id=1]
radius = 5.0
height = 10.0

[sub_resource type="Animation" id=2]
resource_name = "idle"
length = 0.0833333
loop = true
step = 0.0833333
tracks/0/type = "value"
tracks/0/path = NodePath("sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ 8 ]
}

[sub_resource type="Animation" id=3]
resource_name = "into wall slide"
length = 0.166667
step = 0.0833333
tracks/0/type = "value"
tracks/0/path = NodePath("sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.0833333 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ 28, 29 ]
}

[sub_resource type="Animation" id=4]
resource_name = "jump"
length = 0.333333
step = 0.0833333
tracks/0/type = "value"
tracks/0/path = NodePath("sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.0833333, 0.166667, 0.25 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 1,
"values": [ 0, 1, 2, 3 ]
}

[sub_resource type="Animation" id=5]
resource_name = "land"
length = 0.333333
step = 0.0833333
tracks/0/type = "value"
tracks/0/path = NodePath("sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.0833333, 0.166667, 0.25 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 1,
"values": [ 4, 5, 6, 7 ]
}

[sub_resource type="Animation" id=6]
resource_name = "run"
length = 0.666666
loop = true
step = 0.0833333
tracks/0/type = "value"
tracks/0/path = NodePath("sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.0833333, 0.166667, 0.25, 0.333333, 0.416667, 0.5, 0.583333 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ 8, 9, 10, 11, 12, 13, 14, 15 ]
}

[sub_resource type="Animation" id=7]
resource_name = "run start"
length = 0.333333
step = 0.0833333
tracks/0/type = "value"
tracks/0/path = NodePath("sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.0833333, 0.166667, 0.25 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 1,
"values": [ 16, 17, 18, 19 ]
}

[sub_resource type="Animation" id=8]
resource_name = "wall jump"
length = 0.666666
step = 0.0833333
tracks/0/type = "value"
tracks/0/path = NodePath("sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.0833333, 0.166667, 0.25, 0.333333, 0.416667, 0.5, 0.583333 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ 20, 21, 22, 23, 24, 25, 26, 27 ]
}

[sub_resource type="Animation" id=9]
resource_name = "wall slide"
length = 0.0833333
loop = true
step = 0.0833333
tracks/0/type = "value"
tracks/0/path = NodePath("sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ 30 ]
}

[sub_resource type="QuadMesh" id=33]
size = Vector2( 5000, 5000 )

[sub_resource type="CapsuleShape2D" id=31]
radius = 6.0
height = 13.0

[sub_resource type="Curve" id=29]
_data = [ Vector2( 1, 1 ), 0.0, 0.0, 0, 0 ]

[sub_resource type="Curve" id=30]
_data = [ Vector2( 0, 1 ), 0.0, 0.0, 0, 0, Vector2( 0.993356, 1 ), 0.0, 0.0, 0, 0 ]

[sub_resource type="Curve" id=32]
_data = [ Vector2( 0.494662, 0.990909 ), 0.0, 0.0, 0, 0, Vector2( 1, 0 ), 0.0, 0.0, 0, 0 ]

[node name="Node2D" type="Node2D"]

[node name="TileMap" type="TileMap" parent="."]
z_index = -5
tile_set = SubResource( 27 )
cell_size = Vector2( 16, 16 )
format = 1
tile_data = PoolIntArray( -393228, 1, 0, -393227, 1, 1, -393226, 1, 196611, -393225, 1, 196609, -393224, 1, 196609, -393223, 1, 196609, -393222, 1, 196609, -393221, 1, 196609, -393220, 1, 196609, -393219, 1, 196609, -393218, 1, 196609, -393217, 1, 196609, -458752, 1, 196609, -458751, 1, 196609, -458750, 1, 196609, -458749, 1, 196609, -458748, 1, 196609, -458747, 1, 196609, -458746, 1, 196609, -458745, 1, 196609, -458744, 1, 196609, -458743, 1, 196611, -458742, 1, 1, -458741, 1, 2, -327692, 1, 65536, -327691, 1, 65537, -327690, 1, 65538, -393207, 1, 65536, -393206, 1, 65537, -393205, 1, 65538, -262156, 1, 65536, -262155, 1, 65537, -262154, 1, 65538, -327671, 1, 65536, -327670, 1, 65537, -327669, 1, 65538, -196620, 1, 65536, -196619, 1, 65537, -196618, 1, 65538, -262135, 1, 65536, -262134, 1, 65537, -262133, 1, 65538, -131084, 1, 65536, -131083, 1, 65537, -131082, 1, 65538, -196599, 1, 65536, -196598, 1, 65537, -196597, 1, 65538, -65548, 1, 65536, -65547, 1, 65537, -65546, 1, 65538, -131063, 1, 65536, -131062, 1, 65537, -131061, 1, 65538, -12, 1, 65536, -11, 1, 65537, -10, 1, 65538, -65527, 1, 65536, -65526, 1, 65537, -65525, 1, 65538, 65524, 1, 65536, 65525, 1, 65537, 65526, 1, 65538, 9, 1, 65536, 10, 1, 65537, 11, 1, 65538, 131060, 1, 65536, 131061, 1, 65537, 131062, 1, 65538, 65545, 1, 65536, 65546, 1, 65537, 65547, 1, 65538, 196596, 1, 65536, 196597, 1, 65537, 196598, 1, 65538, 131081, 1, 65536, 131082, 1, 65537, 131083, 1, 65538, 262132, 1, 65536, 262133, 1, 65537, 262134, 1, 65538, 196617, 1, 65536, 196618, 1, 65537, 196619, 1, 65538, 327668, 1, 65536, 327669, 1, 65537, 327670, 1, 196611, 327671, 1, 1, 327672, 1, 1, 327673, 1, 1, 327674, 1, 1, 327675, 1, 1, 327676, 1, 1, 327677, 1, 1, 327678, 1, 1, 327679, 1, 1, 262144, 1, 1, 262145, 1, 1, 262146, 1, 1, 262147, 1, 1, 262148, 1, 1, 262149, 1, 1, 262150, 1, 1, 262151, 1, 1, 262152, 1, 1, 262153, 1, 196611, 262154, 1, 65537, 262155, 1, 65538, 393204, 1, 131072, 393205, 1, 131073, 393206, 1, 131073, 393207, 1, 131073, 393208, 1, 131073, 393209, 1, 131073, 393210, 1, 131073, 393211, 1, 131073, 393212, 1, 131073, 393213, 1, 131073, 393214, 1, 131073, 393215, 1, 131073, 327680, 1, 131073, 327681, 1, 131073, 327682, 1, 131073, 327683, 1, 131073, 327684, 1, 131073, 327685, 1, 131073, 327686, 1, 131073, 327687, 1, 131073, 327688, 1, 131073, 327689, 1, 131073, 327690, 1, 131073, 327691, 1, 131074 )

[node name="Camera2D" type="Camera2D" parent="."]
current = true

[node name="player" type="KinematicBody2D" parent="." groups=[
"player",
]]
collision/safe_margin = 0.05
script = ExtResource( 3 )
move_force = Vector2( 30, 500 )
air_control_ratio = 0.35
wall_jump_force = Vector2( 300, 400 )
gravity = 250.0
acc_grav = 5.0
friction = 8.0
air_friction = 2.0
wall_friction = 7.0
wall_hold_time = 0.3
jump_hold_time = 200.0
start_delay = 0.0
jump_sound = ExtResource( 12 )
wall_jump_sound = ExtResource( 11 )

[node name="col" type="CollisionShape2D" parent="player" groups=[
"player",
]]
shape = SubResource( 1 )

[node name="sprite" type="Sprite" parent="player"]
texture = ExtResource( 4 )
vframes = 6
hframes = 6
frame = 14

[node name="anim" type="AnimationPlayer" parent="player"]
autoplay = "idle"
anims/idle = SubResource( 2 )
"anims/into wall slide" = SubResource( 3 )
anims/jump = SubResource( 4 )
anims/land = SubResource( 5 )
anims/run = SubResource( 6 )
"anims/run start" = SubResource( 7 )
"anims/wall jump" = SubResource( 8 )
"anims/wall slide" = SubResource( 9 )

[node name="sfx" type="AudioStreamPlayer2D" parent="player"]

[node name="landing_sfx" type="AudioStreamPlayer2D" parent="player"]
stream = ExtResource( 10 )

[node name="start_filter" type="MeshInstance2D" parent="player"]
modulate = Color( 0, 0, 0, 0.294118 )
mesh = SubResource( 33 )

[node name="chaser" type="Node2D" parent="."]

[node name="area" type="Area2D" parent="chaser"]
position = Vector2( -122.702, 400.309 )
script = ExtResource( 7 )
follow_delay = 100
trail_segments = 120
trail_piece = ExtResource( 8 )

[node name="col" type="CollisionShape2D" parent="chaser/area"]
shape = SubResource( 31 )

[node name="sprite" type="Sprite" parent="chaser/area"]
z_index = 1
texture = ExtResource( 2 )
vframes = 6
hframes = 6

[node name="trail" type="StaticBody2D" parent="chaser"]

[node name="line" type="Line2D" parent="chaser/trail"]
width = 9.0
width_curve = SubResource( 29 )
default_color = Color( 1, 1, 1, 1 )
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="preemptive line" type="Line2D" parent="chaser/trail"]
z_index = -1
width = 8.0
width_curve = SubResource( 30 )
default_color = Color( 0, 0, 0, 0.27451 )
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="death_particles" type="CPUParticles2D" parent="chaser"]
position = Vector2( -122.702, 400.309 )
emitting = false
amount = 20
lifetime = 0.9
one_shot = true
explosiveness = 0.98
randomness = 0.11
lifetime_randomness = 0.27
texture = ExtResource( 1 )
direction = Vector2( 0, 0 )
spread = 180.0
gravity = Vector2( 0, 0 )
initial_velocity = 138.16
initial_velocity_random = 0.33
angular_velocity = 473.68
angular_velocity_random = 0.51
orbit_velocity = 0.2
orbit_velocity_random = 1.0
radial_accel = 3.48
radial_accel_random = 1.0
damping = 87.5
damping_random = 0.19
angle = 720.0
angle_random = 1.0
scale_amount_curve = SubResource( 32 )
color = Color( 0.447059, 0.760784, 0.517647, 1 )
[connection signal="body_entered" from="chaser/area" to="chaser/area" method="_on_area_body_entered"]
